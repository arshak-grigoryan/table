(this["webpackJsonptable-react"]=this["webpackJsonptable-react"]||[]).push([[4],{32:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(22),c=n(3),a=n.n(c),s=n(4),i=n(21),u=n(0),l=n(1);var o=function(e){Object(l.useEffect)(e,[])},d="userId",j="delete",b=13,f=function(){var e=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),O=n(5);var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=new Set;return e.map((function(e){return Object.keys(e)})).forEach((function(e){return e.forEach((function(e){return r.add(e)}))})),n.forEach((function(e){return r.delete(e)})),t.forEach((function(e){return r.add(e)})),Promise.resolve(Array.from(r))};var m=function(e){var t=e.columnsNames;return Object(u.jsx)("div",{className:"thead",children:Object(u.jsx)("div",{className:"tr",children:t.map((function(e,n){return Object(u.jsx)("div",{className:"th",style:{width:"calc(100% / ".concat(t.length,")")},children:e},n)}))})})},v=n(33),x=n(23),g=n(31);var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(l.useState)(n),c=Object(i.a)(r,2),a=c[0],s=c[1],u=e,o=e.slice(0,t),d=Object(l.useCallback)((function(){return s(!a)}),[a]);return{text:a?u:o,isFull:a,onClick:d}};var y=function(e){var t=e.string,n=e.leng,r=p(t,n);return Object(u.jsxs)("p",{children:[r.text,t.length>n&&Object(u.jsx)("span",{onClick:r.onClick,className:"moreless",children:r.isFull?"Read less":"Read more"})]})},N=function(e){var t=Object(l.useRef)(null);return Object(l.useEffect)((function(){var n=function(n){t.current.contains(n.target)||e(n,!0)};return document.addEventListener("click",n),function(){return document.removeEventListener("click",n)}}),[e]),t},E=function(e){var t=e.id,n=e.title,r=e.onKeyPressEditTitle,c=e.setIsEdit,a=function(e,n){n?c(!1):e.which!==b&&e.keycode!==b||(r(e,t),c(!1))},s=N(a);return Object(u.jsx)("input",{autoFocus:!0,defaultValue:n,onKeyPress:a,ref:s,type:"textarea"})};var k=function(e){var t=e.userId,n=e.id,c=e.title,a=e.body,s=e.columnsNames,o=e.deleteItem,d=e.onKeyPressEditTitle,j={width:"calc(100% / ".concat(s.length,")")},b=Object(l.useState)(!1),f=Object(i.a)(b,2),O=f[0],h=f[1];return Object(u.jsxs)("div",{className:"tr",children:[s.includes("userId")&&Object(u.jsx)("div",{className:"td",style:Object(r.a)({},j),children:t}),s.includes("id")&&Object(u.jsx)("div",{className:"td",style:Object(r.a)({},j),children:n}),s.includes("title")&&Object(u.jsx)("div",{className:"td title",style:Object(r.a)({},j),children:O?Object(u.jsx)(E,{id:n,title:c,onKeyPressEditTitle:d,setIsEdit:h}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(y,{string:c,leng:40}),Object(u.jsx)(x.a,{icon:g.a,onClick:function(){return h(!0)}})]})}),s.includes("body")&&Object(u.jsx)("div",{className:"td body",style:Object(r.a)({},j),children:Object(u.jsx)(y,{string:a,leng:40})}),s.includes("delete")&&Object(u.jsx)("div",{className:"td",style:Object(r.a)({},j),children:Object(u.jsx)(x.a,{icon:g.b,onClick:function(){return o(n)}})})]})};var C=function(e){var t=e.visibleData,n=Object(v.a)(e,["visibleData"]);return Object(u.jsx)("div",{className:"tbody",children:t.map((function(e){var t=e.id,c=Object(v.a)(e,["id"]);return Object(u.jsx)(k,Object(r.a)(Object(r.a)({id:t},c),n),t)}))})};var P=function(e){var t=e.dataLength,n=e.currentPage,r=e.onPageChange,c=Math.ceil(t/5),a=c<5,s=n<=Math.ceil(2.5),i=n>=Math.ceil(c-2.5),l=function(e,t){return"notFull"===t||"isFromStart"===t?e+1:"isFromEnd"===t?e+1+c-5:e+n-Math.floor(2.5)},o=a?Array(c).fill(null).map((function(e,t){return l(t,"notFull")})):s?Array(5).fill(null).map((function(e,t){return l(t,"isFromStart")})):i?Array(5).fill(null).map((function(e,t){return l(t,"isFromEnd")})):Array(5).fill(null).map((function(e,t){return l(t)}));return Object(u.jsx)("div",{className:"pagination",children:o.map((function(e,t){return Object(u.jsx)("button",{onClick:function(){return r(e)},style:e===n?{borderColor:"tomato",color:"tomato"}:{borderColor:"silver",color:"initial"},children:e},t)}))})};var w=function(e){var t=e.columnsNames,n=e.currentPage,r=e.dataLength,c=e.onPageChange;return Object(u.jsxs)("div",{className:"tfooter",children:[Object(u.jsx)("div",{className:"tr",children:t.map((function(e,n){return Object(u.jsx)("div",{className:"th",style:{width:"calc(100% / ".concat(t.length,")")},children:e},n)}))}),Object(u.jsx)(P,{currentPage:n,dataLength:r,onPageChange:c})]})};n(32);t.default=function(e){var t=e.errorMessage,n=Object(l.useState)([]),c=Object(i.a)(n,2),b=c[0],v=c[1],x=Object(l.useState)([]),g=Object(i.a)(x,2),p=g[0],y=g[1],N=Object(l.useState)(!1),E=Object(i.a)(N,2),k=E[0],P=E[1],S=Object(l.useState)(!1),F=Object(i.a)(S,2),A=F[0],I=F[1],L=Object(l.useState)(0),K=Object(i.a)(L,2),M=K[0],T=K[1],D=Object(l.useState)(1),R=Object(i.a)(D,2),J=R[0],z=R[1],V=b.length,q=b.filter((function(e,t){return t>=M&&t<M+5}));if(o((function(){setTimeout((function(){Object(s.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f("https://jsonplaceholder.typicode.com/posts");case 2:if(t=e.sent,Array.isArray(t)){e.next=6;break}return I(!0),e.abrupt("return");case 6:return e.next=8,h(t,[j],[d]);case 8:n=e.sent,v(t),y(n),P(!0);case 12:case"end":return e.stop()}}),e)})))()}),0)})),A)throw new Error(t);return k?Object(u.jsxs)("div",{className:"table",children:[Object(u.jsx)(m,{columnsNames:p}),Object(u.jsx)(C,{visibleData:q,columnsNames:p,columnCount:p.size,deleteItem:function(e){v((function(t){return t.filter((function(t){return t.id!==e}))})),z((function(e){return q.length-1===0?(T(5*(e-1)-5),e-1):e}))},onKeyPressEditTitle:function(e,t){v((function(n){return n.map((function(n){return n.id===t?Object(r.a)(Object(r.a)({},n),{},{title:e.target.value}):Object(r.a)({},n)}))}))}}),Object(u.jsx)(w,{columnsNames:p,dataLength:V,onPageChange:function(e){T(5*e-5),z(e)},currentPage:J})]}):Object(u.jsx)(O.a,{})}}}]);
//# sourceMappingURL=4.91608261.chunk.js.map