(this["webpackJsonptable-react"]=this["webpackJsonptable-react"]||[]).push([[4],{32:function(e,t,r){},34:function(e,t,r){"use strict";r.r(t);var c=r(19),n=r(3),i=r.n(n),a=r(4),s=r(21),j=r(0),h=r(1);var l=function(e){Object(h.useEffect)(e,[])},o="userId",u="delete",x=13,d=function(){var e=Object(a.a)(i.a.mark((function e(t){var r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),b=r(22),O=function(e){return Object(j.jsxs)(b.a,Object(c.a)(Object(c.a)({width:1e3,height:550,viewBox:"0 0 1000 550",backgroundColor:"#eaeced",foregroundColor:"#ffffff"},e),{},{children:[Object(j.jsx)("rect",{x:"51",y:"45",rx:"3",ry:"3",width:"906",height:"17"}),Object(j.jsx)("circle",{cx:"889",cy:"123",r:"11"}),Object(j.jsx)("rect",{x:"104",y:"115",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"305",y:"114",rx:"3",ry:"3",width:"299",height:"15"}),Object(j.jsx)("rect",{x:"661",y:"114",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"55",y:"155",rx:"3",ry:"3",width:"897",height:"2"}),Object(j.jsx)("circle",{cx:"890",cy:"184",r:"11"}),Object(j.jsx)("rect",{x:"105",y:"176",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"306",y:"175",rx:"3",ry:"3",width:"299",height:"15"}),Object(j.jsx)("rect",{x:"662",y:"175",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"56",y:"216",rx:"3",ry:"3",width:"897",height:"2"}),Object(j.jsx)("circle",{cx:"891",cy:"242",r:"11"}),Object(j.jsx)("rect",{x:"106",y:"234",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"307",y:"233",rx:"3",ry:"3",width:"299",height:"15"}),Object(j.jsx)("rect",{x:"663",y:"233",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"57",y:"274",rx:"3",ry:"3",width:"897",height:"2"}),Object(j.jsx)("circle",{cx:"892",cy:"303",r:"11"}),Object(j.jsx)("rect",{x:"107",y:"295",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"308",y:"294",rx:"3",ry:"3",width:"299",height:"15"}),Object(j.jsx)("rect",{x:"664",y:"294",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"58",y:"335",rx:"3",ry:"3",width:"897",height:"2"}),Object(j.jsx)("circle",{cx:"893",cy:"363",r:"11"}),Object(j.jsx)("rect",{x:"106",y:"355",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"307",y:"354",rx:"3",ry:"3",width:"299",height:"15"}),Object(j.jsx)("rect",{x:"663",y:"354",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"57",y:"395",rx:"3",ry:"3",width:"897",height:"2"}),Object(j.jsx)("circle",{cx:"894",cy:"424",r:"11"}),Object(j.jsx)("rect",{x:"107",y:"416",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"308",y:"415",rx:"3",ry:"3",width:"299",height:"15"}),Object(j.jsx)("rect",{x:"664",y:"415",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"55",y:"453",rx:"3",ry:"3",width:"897",height:"2"}),Object(j.jsx)("rect",{x:"51",y:"49",rx:"3",ry:"3",width:"2",height:"465"}),Object(j.jsx)("rect",{x:"955",y:"49",rx:"3",ry:"3",width:"2",height:"465"}),Object(j.jsx)("circle",{cx:"895",cy:"484",r:"11"}),Object(j.jsx)("rect",{x:"107",y:"476",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"308",y:"475",rx:"3",ry:"3",width:"299",height:"15"}),Object(j.jsx)("rect",{x:"664",y:"475",rx:"3",ry:"3",width:"141",height:"15"}),Object(j.jsx)("rect",{x:"55",y:"513",rx:"3",ry:"3",width:"897",height:"2"}),Object(j.jsx)("rect",{x:"52",y:"80",rx:"3",ry:"3",width:"906",height:"17"}),Object(j.jsx)("rect",{x:"53",y:"57",rx:"3",ry:"3",width:"68",height:"33"}),Object(j.jsx)("rect",{x:"222",y:"54",rx:"3",ry:"3",width:"149",height:"33"}),Object(j.jsx)("rect",{x:"544",y:"55",rx:"3",ry:"3",width:"137",height:"33"}),Object(j.jsx)("rect",{x:"782",y:"56",rx:"3",ry:"3",width:"72",height:"33"}),Object(j.jsx)("rect",{x:"933",y:"54",rx:"3",ry:"3",width:"24",height:"33"})]}))};O.metadata={name:"Sridhar Easwaran",github:"sridhareaswaran",description:"Loader for Tables",filename:"TableLoader"};var y=O;var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=new Set;return e.map((function(e){return Object.keys(e)})).forEach((function(e){return e.forEach((function(e){return c.add(e)}))})),r.forEach((function(e){return c.delete(e)})),t.forEach((function(e){return c.add(e)})),Promise.resolve(Array.from(c))};var g=function(e){var t=e.columnsNames;return Object(j.jsx)("div",{className:"thead",children:Object(j.jsx)("div",{className:"tr",children:t.map((function(e,r){return Object(j.jsx)("div",{className:"th",style:{width:"calc(100% / ".concat(t.length,")")},children:e},r)}))})})},v=r(33),m=r(23),w=r(31);var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=Object(h.useState)(r),n=Object(s.a)(c,2),i=n[0],a=n[1],j=e,l=e.slice(0,t),o=Object(h.useCallback)((function(){return a(!i)}),[i]);return{text:i?j:l,isFull:i,onClick:o}};var P=function(e){var t=e.string,r=e.leng,c=p(t,r);return Object(j.jsxs)("p",{children:[c.text,t.length>r&&Object(j.jsx)("span",{onClick:c.onClick,className:"moreless",children:c.isFull?"Read less":"Read more"})]})},N=function(e){var t=Object(h.useRef)(null);return Object(h.useEffect)((function(){var r=function(r){t.current.contains(r.target)||e(r,!0)};return document.addEventListener("click",r),function(){return document.removeEventListener("click",r)}}),[e]),t},E=function(e){var t=e.id,r=e.title,c=e.onKeyPressEditTitle,n=e.setIsEdit,i=function(e,r){r?n(!1):e.which!==x&&e.keycode!==x||(c(e,t),n(!1))},a=N(i);return Object(j.jsx)("input",{autoFocus:!0,defaultValue:r,onKeyPress:i,ref:a,type:"textarea"})};var k=function(e){var t=e.userId,r=e.id,n=e.title,i=e.body,a=e.columnsNames,l=e.deleteItem,o=e.onKeyPressEditTitle,u={width:"calc(100% / ".concat(a.length,")")},x=Object(h.useState)(!1),d=Object(s.a)(x,2),b=d[0],O=d[1];return Object(j.jsxs)("div",{className:"tr",children:[a.includes("userId")&&Object(j.jsx)("div",{className:"td",style:Object(c.a)({},u),children:t}),a.includes("id")&&Object(j.jsx)("div",{className:"td",style:Object(c.a)({},u),children:r}),a.includes("title")&&Object(j.jsx)("div",{className:"td title",style:Object(c.a)({},u),children:b?Object(j.jsx)(E,{id:r,title:n,onKeyPressEditTitle:o,setIsEdit:O}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(P,{string:n,leng:40}),Object(j.jsx)(m.a,{icon:w.a,onClick:function(){return O(!0)}})]})}),a.includes("body")&&Object(j.jsx)("div",{className:"td body",style:Object(c.a)({},u),children:Object(j.jsx)(P,{string:i,leng:40})}),a.includes("delete")&&Object(j.jsx)("div",{className:"td",style:Object(c.a)({},u),children:Object(j.jsx)(m.a,{icon:w.b,onClick:function(){return l(r)}})})]})};var C=function(e){var t=e.visibleData,r=Object(v.a)(e,["visibleData"]);return Object(j.jsx)("div",{className:"tbody",children:t.map((function(e){var t=e.id,n=Object(v.a)(e,["id"]);return Object(j.jsx)(k,Object(c.a)(Object(c.a)({id:t},n),r),t)}))})};var S=function(e){var t=e.dataLength,r=e.currentPage,c=e.onPageChange,n=e.rowPerPage,i=Math.ceil(t/n),a=i<5,s=r<=Math.ceil(2.5),h=r>=Math.ceil(i-2.5),l=function(e,t){return"notFull"===t||"isFromStart"===t?e+1:"isFromEnd"===t?e+1+i-5:e+r-Math.floor(2.5)},o=a?Array(i).fill(null).map((function(e,t){return l(t,"notFull")})):s?Array(5).fill(null).map((function(e,t){return l(t,"isFromStart")})):h?Array(5).fill(null).map((function(e,t){return l(t,"isFromEnd")})):Array(5).fill(null).map((function(e,t){return l(t)}));return Object(j.jsx)("div",{className:"pagination",children:o.map((function(e,t){return Object(j.jsx)("button",{onClick:function(){return c(e)},style:e===r?{borderColor:"tomato",color:"tomato"}:{borderColor:"silver",color:"initial"},children:e},t)}))})};var F=function(e){var t=e.columnsNames,r=e.currentPage,c=e.dataLength,n=e.onPageChange,i=e.rowPerPage,a=e.setRowPerPage;return Object(j.jsxs)("div",{className:"tfooter",children:[Object(j.jsx)("div",{className:"tr",children:t.map((function(e,r){return Object(j.jsx)("div",{className:"th",style:{width:"calc(100% / ".concat(t.length,")")},children:e},r)}))}),Object(j.jsxs)("div",{className:"pageWrapper",children:[Object(j.jsx)(S,{currentPage:r,dataLength:c,onPageChange:n,rowPerPage:i}),Object(j.jsxs)("form",{children:[Object(j.jsx)("label",{htmlFor:"rowPerPage",children:"Rows per page"}),Object(j.jsxs)("select",{id:"rowPerPage",value:i,onChange:function(e){e.preventDefault(),n(1),a(e.target.value)},children:[Object(j.jsx)("option",{value:"5",children:"5"}),Object(j.jsx)("option",{value:"15",children:"15"}),Object(j.jsx)("option",{value:"30",children:"30"}),Object(j.jsx)("option",{value:"50",children:"50"})]})]})]})]})};r(32);t.default=function(){var e=Object(h.useState)(15),t=Object(s.a)(e,2),r=t[0],n=t[1],x=Object(h.useState)([]),b=Object(s.a)(x,2),O=b[0],v=b[1],m=Object(h.useState)([]),w=Object(s.a)(m,2),p=w[0],P=w[1],N=Object(h.useState)(!1),E=Object(s.a)(N,2),k=E[0],S=E[1],L=Object(h.useState)(0),A=Object(s.a)(L,2),I=A[0],T=A[1],R=Object(h.useState)(1),K=Object(s.a)(R,2),D=K[0],M=K[1],J=O.length,z=O.filter((function(e,t){return t>=I&&t<I+r}));if(l((function(){setTimeout((function(){Object(a.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("https://jsonplaceholder.typicode.com/posts");case 2:if(t=e.sent,Array.isArray(t)){e.next=6;break}return S(!0),e.abrupt("return");case 6:return e.next=8,f(t,[u],[o]);case 8:r=e.sent,v(t),P(r),S(!0);case 12:case"end":return e.stop()}}),e)})))()}),0)})),k&&!J)throw new Error("asddasdv");return k?Object(j.jsxs)("div",{className:"table",children:[Object(j.jsx)(g,{columnsNames:p}),Object(j.jsx)(C,{visibleData:z,columnsNames:p,columnCount:p.size,deleteItem:function(e){v((function(t){return t.filter((function(t){return t.id!==e}))})),M((function(e){return z.length-1===0?(T((e-1)*r-r),e-1):e}))},onKeyPressEditTitle:function(e,t){v((function(r){return r.map((function(r){return r.id===t?Object(c.a)(Object(c.a)({},r),{},{title:e.target.value}):Object(c.a)({},r)}))}))}}),Object(j.jsx)(F,{columnsNames:p,dataLength:J,onPageChange:function(e){T(e*r-r),M(e)},currentPage:D,rowPerPage:r,setRowPerPage:n})]}):Object(j.jsx)(y,{})}}}]);
//# sourceMappingURL=4.491b98cb.chunk.js.map