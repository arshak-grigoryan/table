(this["webpackJsonptable-react"]=this["webpackJsonptable-react"]||[]).push([[3],{20:function(e,t,n){},21:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.r(t);var i=n(3),o=n.n(i),s=n(4);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,c=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){c=!0,a=s}finally{try{r||null==o.return||o.return()}finally{if(c)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=n(0),d=n(1);var b=function(e){Object(d.useEffect)(e,[])},j="userId",h="delete",v="fas fa-edit",m="fas fa-trash-alt",O=13,p=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),y=n(5);var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=new Set;return e.map((function(e){return Object.keys(e)})).forEach((function(e){return e.forEach((function(e){return r.add(e)}))})),n.forEach((function(e){return r.delete(e)})),t.forEach((function(e){return r.add(e)})),Promise.resolve(Array.from(r))};var x=function(e){var t=e.columnsNames;return Object(f.jsx)("div",{className:"thead",children:Object(f.jsx)("div",{className:"tr",children:t.map((function(e,n){return Object(f.jsx)("div",{className:"th",style:{width:"calc(100% / ".concat(t.length,")")},children:e},n)}))})})};function w(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var P=function(e){var t=e.type,n=w(e,["type"]);return Object(f.jsx)("i",a({className:t},n))};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(d.useState)(n),c=l(r,2),a=c[0],i=c[1],o=e,s=e.slice(0,t),u=Object(d.useCallback)((function(){return i(!a)}),[a]);return{text:a?o:s,isFull:a,onClick:u}};var E=function(e){var t=e.string,n=e.leng,r=N(t,n);return Object(f.jsxs)("p",{children:[r.text,t.length>n&&Object(f.jsx)("button",{onClick:r.onClick,children:r.isFull?"Read less":"Read more"})]})},S=function(e){var t=Object(d.useRef)(null);return Object(d.useEffect)((function(){var n=function(n){t.current.contains(n.target)||e(n,!0)};return document.addEventListener("click",n),function(){return document.removeEventListener("click",n)}}),[e]),t},k=function(e){var t=e.id,n=e.title,r=e.onKeyPressEditTitle,c=e.setIsEdit,a=function(e,n){n?c(!1):e.which!==O&&e.keycode!==O||(r(e,t),c(!1))},i=S(a);return Object(f.jsx)("input",{autoFocus:!0,defaultValue:n,onKeyPress:a,ref:i})};var C=function(e){var t=e.userId,n=e.id,r=e.title,c=e.body,i=e.columnsNames,o=e.deleteItem,s=e.onKeyPressEditTitle,u={width:"calc(100% / ".concat(i.length,")")},b=l(Object(d.useState)(!1),2),j=b[0],h=b[1];return Object(f.jsxs)("div",{className:"tr",children:[i.includes("userId")&&Object(f.jsx)("div",{className:"td",style:a({},u),children:t}),i.includes("id")&&Object(f.jsx)("div",{className:"td",style:a({},u),children:n}),i.includes("title")&&Object(f.jsx)("div",{className:"td",style:a({},u),children:j?Object(f.jsx)(k,{id:n,title:r,onKeyPressEditTitle:s,setIsEdit:h}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(E,{string:r,leng:40}),Object(f.jsx)(P,{type:v,onClick:function(){return h(!0)}})]})}),i.includes("body")&&Object(f.jsx)("div",{className:"td",style:a({},u),children:Object(f.jsx)(E,{string:c,leng:40})}),i.includes("delete")&&Object(f.jsx)("div",{className:"td",style:a({},u),children:Object(f.jsx)(P,{type:m,onClick:function(){return o(n)}})})]})};var A=function(e){var t=e.visibleData,n=w(e,["visibleData"]);return Object(f.jsx)("div",{className:"tbody",children:t.map((function(e){var t=e.id,r=w(e,["id"]);return Object(f.jsx)(C,a(a({id:t},r),n),t)}))})};var I=function(e){var t=e.dataLength,n=e.currentPage,r=e.onPageChange,c=Math.ceil(t/5),a=c<5,i=n<=Math.ceil(2.5),o=n>=Math.ceil(c-2.5),s=function(e,t){return"notFull"===t||"isFromStart"===t?e+1:"isFromEnd"===t?e+1+c-5:e+n-Math.floor(2.5)},u=a?Array(c).fill(null).map((function(e,t){return s(t,"notFull")})):i?Array(5).fill(null).map((function(e,t){return s(t,"isFromStart")})):o?Array(5).fill(null).map((function(e,t){return s(t,"isFromEnd")})):Array(5).fill(null).map((function(e,t){return s(t)}));return Object(f.jsx)("div",{className:"pagination",children:u.map((function(e,t){return Object(f.jsx)("button",{onClick:function(){return r(e)},style:e===n?{borderColor:"tomato",color:"tomato"}:{borderColor:"silver",color:"initial"},children:e},t)}))})};var F=function(e){var t=e.columnsNames,n=e.currentPage,r=e.dataLength,c=e.onPageChange;return Object(f.jsxs)("div",{className:"tfooter",children:[Object(f.jsx)("div",{className:"tr",children:t.map((function(e,n){return Object(f.jsx)("div",{className:"th",style:{width:"calc(100% / ".concat(t.length,")")},children:e},n)}))}),Object(f.jsx)(I,{currentPage:n,dataLength:r,onPageChange:c})]})};n(20);t.default=function(e){var t=e.errorMessage,n=l(Object(d.useState)([]),2),r=n[0],c=n[1],i=l(Object(d.useState)([]),2),u=i[0],v=i[1],m=l(Object(d.useState)(!1),2),O=m[0],w=m[1],P=l(Object(d.useState)(!1),2),N=P[0],E=P[1],S=l(Object(d.useState)(0),2),k=S[0],C=S[1],I=l(Object(d.useState)(1),2),D=I[0],L=I[1],M=r.length,T=r.filter((function(e,t){return t>=k&&t<k+5}));if(b((function(){setTimeout((function(){Object(s.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("https://jsonplaceholder.typicode.com/posts");case 2:if(t=e.sent,Array.isArray(t)){e.next=6;break}return E(!0),e.abrupt("return");case 6:return e.next=8,g(t,[h],[j]);case 8:n=e.sent,c(t),v(n),w(!0);case 12:case"end":return e.stop()}}),e)})))()}),0)})),N)throw new Error(t);return O?Object(f.jsxs)("div",{className:"table",children:[Object(f.jsx)(x,{columnsNames:u}),Object(f.jsx)(A,{visibleData:T,columnsNames:u,columnCount:u.size,deleteItem:function(e){c((function(t){return t.filter((function(t){return t.id!==e}))})),L((function(e){return T.length-1===0?(C(5*(e-1)-5),e-1):e}))},onKeyPressEditTitle:function(e,t){c((function(n){return n.map((function(n){return n.id===t?a(a({},n),{},{title:e.target.value}):a({},n)}))}))}}),Object(f.jsx)(F,{columnsNames:u,dataLength:M,onPageChange:function(e){C(5*e-5),L(e)},currentPage:D})]}):Object(f.jsx)(y.a,{})}}}]);
//# sourceMappingURL=3.c2fc01f3.chunk.js.map